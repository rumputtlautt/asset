<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Secure Login</title>
  <style>
    body {
      background: #0b0f13;
      color: #c8f8ff;
      font-family: monospace;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    .box {
      border: 1px solid #1e2a38;
      padding: 20px;
      width: 300px;
    }
    input, button {
      width: 100%;
      margin-top: 10px;
      background: #111;
      color: #c8f8ff;
      border: 1px solid #1e2a38;
      padding: 8px;
    }
    #msg {
      margin-top: 10px;
      color: #ff6b6b;
    }
  </style>
</head>
<body>
  <div class="box">
    <h1>! AUTH GATEWAY</h1>
    <input id="user" placeholder="username" />
    <input id="pass" placeholder="password" />
    <button onclick="login()">Login</button>
    <div id="msg"></div>
  </div>

<script>
async function login() {
  const msg = document.getElementById("msg")
  msg.style.color = "#c8f8ff"
  msg.innerText = "Authenticating..."

  try {
    const res = await fetch("https://main.whiskasreal.workers.dev/login", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        username: document.getElementById("user").value,
        password: document.getElementById("pass").value,
        isAdmin: false
      })
    })

    const data = await res.json()

    if (data.success) {
      msg.style.color = "#6bff95"
      msg.innerText = "Login successful. Welcome back."
      console.log("Token:", data.token)
    } else {
      msg.style.color = "#ff6b6b"
      msg.innerText = "Login failed. Invalid username or password."
    }
  } catch (e) {
    msg.style.color = "#ff6b6b"
    msg.innerText = "Server error. Try again later."
  }
}
</script>

</body>
</html>



